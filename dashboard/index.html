<!DOCTYPE html>
<html lang="ar" dir="rtl" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<title>Skillzoy Academy | Ù…Ù†ØµØ© Ø±Ø§Ø¦Ø¯Ø© ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#4F46E5">

<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Cairo', 'sans-serif'],
          },
          colors: {
            primary: '#4F46E5',
            secondary: '#10B981',
            dark: '#0F172A',
          }
        }
      }
    }
</script>
  <script type="text/javascript">
  (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "u9054g22tr");
  </script>
<style>
    /* Global Styles */
    :root {
        --glass-border: 1px solid rgba(255, 255, 255, 0.1);
        --glass-bg: rgba(255, 255, 255, 0.85);
        --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
    }
    
    .dark :root {
        --glass-border: 1px solid rgba(255, 255, 255, 0.05);
        --glass-bg: rgba(15, 23, 42, 0.85);
    }

    body {
        font-family: 'Cairo', sans-serif;
        -webkit-tap-highlight-color: transparent;
        background-color: #F8FAFC;
    }

    .dark body {
        background-color: #020617;
        color: #E2E8F0;
    }

    /* Scrollbar Hiding */
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

    /* Glassmorphism Classes */
    .glass {
        background: var(--glass-bg);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: var(--glass-border);
    }

    .glass-card {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
    }

    .dark .glass-card {
        background: rgba(30, 41, 59, 0.8);
        border: 1px solid rgba(255, 255, 255, 0.05);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
    }

    /* Animations */
    @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-5px); }
        100% { transform: translateY(0px); }
    }

    .animate-float { animation: float 3s ease-in-out infinite; }

    /* Skeleton Loading */
    .skeleton {
        background: linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%);
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
    }
    .dark .skeleton {
        background: linear-gradient(90deg, #1e293b 25%, #334155 50%, #1e293b 75%);
    }
    @keyframes loading {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
    }

    /* Custom Transitions */
    .trans-all { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }

    /* Video Player */
    .video-container {
        position: relative;
        padding-bottom: 56.25%; /* 16:9 */
        height: 0;
        overflow: hidden;
        border-radius: 16px;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    .video-container iframe {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
    }
</style>
</head>

<body class="transition-colors duration-300 antialiased pb-24">

    <header class="fixed top-0 w-full z-50 glass trans-all shadow-sm">
        <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3 cursor-pointer" onclick="showHome()">
                <div class="w-10 h-10 bg-gradient-to-tr from-indigo-600 to-violet-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-500/30">
                    <i class="fas fa-graduation-cap text-lg"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-violet-600 dark:from-indigo-400 dark:to-violet-400">Skillzoy</h1>
                </div>
            </div>

            <div class="flex items-center gap-4">
                <button onclick="toggleDarkMode()" class="w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 trans-all">
                    <i class="fas fa-moon dark:hidden"></i>
                    <i class="fas fa-sun hidden dark:block"></i>
                </button>
                <div class="relative cursor-pointer">
                    <div class="w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400">
                        <i class="fas fa-bell"></i>
                    </div>
                    <span class="absolute top-0 right-0 w-3 h-3 bg-red-500 border-2 border-white dark:border-gray-900 rounded-full"></span>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 mt-24 space-y-8">

        <section id="heroSection" class="relative overflow-hidden rounded-3xl bg-gradient-to-r from-indigo-600 to-violet-700 p-6 md:p-10 text-white shadow-2xl shadow-indigo-500/20">
            <div class="relative z-10 flex flex-col md:flex-row items-center justify-between gap-6">
                <div class="text-center md:text-right space-y-3 max-w-lg">
                    <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-md px-3 py-1 rounded-full text-sm font-medium border border-white/20">
                        <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
                        <span>Ù…Ø¨Ø§Ø´Ø±: Ø¯ÙˆØ±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</span>
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold leading-tight">Ø·ÙˆØ± Ù…Ù‡Ø§Ø±Ø§ØªÙƒ Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ Ø£ÙØ¶Ù„</h2>
                    <p class="text-indigo-100 text-lg opacity-90">Ø´Ø§Ù‡Ø¯ Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„Ø¯ÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ù‚Ø¨Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ.</p>
                </div>
                <div class="hidden md:block absolute left-0 bottom-0 opacity-20">
                    <i class="fas fa-rocket text-9xl transform -rotate-45 translate-y-10 -translate-x-10"></i>
                </div>
            </div>
        </section>

        <section class="sticky top-20 z-40">
            <div class="glass-card p-2 rounded-2xl flex flex-col md:flex-row gap-2 shadow-lg">
                <div class="relative flex-1">
                    <i class="fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù‡Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©..." 
                        class="w-full bg-transparent border-none focus:ring-0 text-gray-700 dark:text-gray-200 pr-10 pl-4 py-3 placeholder-gray-400">
                </div>
                <div class="flex gap-2 overflow-x-auto scrollbar-hide py-1 md:py-0 px-1">
                    <select id="categoryFilter" class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-none rounded-xl px-4 py-2 text-sm focus:ring-0 cursor-pointer min-w-[120px]">
                        <option value="">ÙƒÙ„ Ø§Ù„ØªØ®ØµØµØ§Øª</option>
                    </select>
                </div>
            </div>
        </section>

        <section>
            <div class="flex justify-between items-end mb-4 px-1">
                <h3 class="text-xl font-bold text-gray-800 dark:text-white">Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</h3>
            </div>
            <div id="categoriesContainer" class="flex gap-4 overflow-x-auto scrollbar-hide pb-4">
                <div class="skeleton min-w-[100px] h-28 rounded-2xl"></div>
                <div class="skeleton min-w-[100px] h-28 rounded-2xl"></div>
                <div class="skeleton min-w-[100px] h-28 rounded-2xl"></div>
            </div>
        </section>

        <section id="coursesSection" class="min-h-[400px]">
            <div class="flex justify-between items-end mb-4 px-1">
                <h3 class="text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2">
                    <i class="fas fa-play-circle text-indigo-500"></i>
                    Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© (Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¢Ù†)
                </h3>
            </div>
            
            <div id="coursesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Skeletons will be shown initially, then replaced -->
            </div>
            
            <div id="noResults" class="hidden flex-col items-center justify-center py-20 text-center">
                <div class="w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4">
                    <i class="fas fa-search text-3xl text-gray-400"></i>
                </div>
                <h3 class="text-lg font-bold text-gray-700 dark:text-gray-300">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬</h3>
            </div>
        </section>

        <section id="myCoursesView" class="hidden min-h-screen">
            <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6">Ø¯ÙˆØ±Ø§ØªÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h2>
            
            <div id="resumeLearningBanner" class="hidden mb-8 bg-gray-900 rounded-2xl p-6 text-white relative overflow-hidden shadow-xl">
                <div class="relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4">
                    <div>
                        <div class="text-xs font-semibold text-gray-400 mb-1 uppercase tracking-wider">Ø£ÙƒÙ…Ù„ Ù…Ù† Ø­ÙŠØ« ØªÙˆÙ‚ÙØª</div>
                        <h3 id="resumeTitle" class="text-xl font-bold mb-2">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯ÙˆØ±Ø© Ù‡Ù†Ø§</h3>
                        <div class="flex items-center gap-2 text-sm text-gray-300">
                            <i class="fas fa-play-circle"></i>
                            <span id="resumeProgress">Ø§Ù„Ù…Ù‚Ø·Ø¹ 4 Ù…Ù† 12</span>
                        </div>
                    </div>
                    <button id="resumeBtn" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-xl font-bold trans-all shadow-lg shadow-indigo-600/30">
                        Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©
                    </button>
                </div>
            </div>

            <div id="myCoursesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                </div>
        </section>

        <div id="playerOverlay" class="fixed inset-0 z-[60] bg-white dark:bg-gray-900 transform translate-y-full transition-transform duration-300 overflow-y-auto">
            <div class="sticky top-0 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md z-10 px-4 py-4 border-b border-gray-100 dark:border-gray-800 flex items-center justify-between">
                <button onclick="closePlayer()" class="w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300 hover:scale-110 trans-all">
                    <i class="fas fa-arrow-right"></i>
                </button>
                <span class="font-bold text-gray-800 dark:text-gray-200">Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¯ÙˆØ±Ø©</span>
                <div class="w-10"></div> 
            </div>

            <div class="max-w-5xl mx-auto px-4 py-6">
                <div class="video-container bg-black mb-6">
                    <iframe id="playerFrame" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>

                <div class="flex flex-col lg:flex-row gap-8">
                    <div class="flex-1 space-y-4">
                        <h1 id="playerCourseTitle" class="text-2xl font-bold text-gray-900 dark:text-white leading-snug"></h1>
                        <p id="playerCourseDesc" class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed"></p>
                        
                        <div class="flex items-center gap-4 py-4 border-y border-gray-100 dark:border-gray-800">
                             <button onclick="toggleCompleteVideo()" id="markCompleteBtn" class="flex-1 bg-green-500 hover:bg-green-600 text-white py-3 rounded-xl font-bold shadow-lg shadow-green-500/30 trans-all flex items-center justify-center gap-2">
                                <i class="fas fa-check-circle"></i>
                                <span>Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‚Ø·Ø¹</span>
                            </button>
                            <a href="https://wa.me/249908280115" target="_blank" class="flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 py-3 rounded-xl font-bold trans-all flex items-center justify-center gap-2">
                                <i class="fab fa-whatsapp text-green-500 text-xl"></i>
                                <span>Ø·Ù„Ø¨ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</span>
                            </a>
                        </div>
                    </div>

                    <div class="lg:w-96 bg-gray-50 dark:bg-gray-800/50 rounded-2xl p-4 h-fit">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-bold text-gray-800 dark:text-white">Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¯ÙˆØ±Ø©</h3>
                            <span id="progressPercentage" class="text-xs font-bold bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 px-2 py-1 rounded-lg">0% Ù…ÙƒØªÙ…Ù„</span>
                        </div>
                        <div class="h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mb-4">
                            <div id="progressBarFill" class="h-full bg-gradient-to-r from-indigo-500 to-purple-500 w-0 trans-all duration-1000"></div>
                        </div>
                        <div id="playlistContainer" class="space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar">
                            </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <nav class="fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl border border-white/20 dark:border-gray-700 rounded-full px-6 py-3 shadow-2xl z-40 flex items-center gap-8 trans-all duration-500 w-[90%] max-w-sm justify-between">
        <button onclick="showHome()" class="nav-btn active flex flex-col items-center gap-1 text-indigo-600 dark:text-indigo-400 trans-all">
            <i class="fas fa-home text-xl"></i>
            <span class="text-[10px] font-bold">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </button>
        
        <button onclick="showMyCourses()" class="nav-btn flex flex-col items-center gap-1 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-300 trans-all relative">
            <i class="fas fa-book-reader text-xl"></i>
            <span class="text-[10px] font-bold">Ø¯ÙˆØ±Ø§ØªÙŠ</span>
            <span id="myCoursesDot" class="hidden absolute top-0 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
        </button>
        
        <button onclick="openWhatsApp()" class="nav-btn flex flex-col items-center gap-1 text-gray-400 hover:text-green-500 trans-all">
            <i class="fab fa-whatsapp text-xl"></i>
            <span class="text-[10px] font-bold">ØªÙˆØ§ØµÙ„</span>
        </button>
    </nav>

    <a href="https://wa.me/249908280115" target="_blank" class="hidden md:flex fixed bottom-8 left-8 w-14 h-14 bg-green-500 text-white rounded-full items-center justify-center shadow-lg shadow-green-500/40 hover:scale-110 trans-all z-50 animate-bounce">
        <i class="fab fa-whatsapp text-2xl"></i>
    </a>

<script>
    // --- âœ… FIREBASE CONFIG ---
    const firebaseConfig = {
        apiKey: "AIzaSyDgFy0-QL0YuGgqgtcx9541Cs7QxBewRKQ",
        authDomain: "skillzoy-5ba3c.firebaseapp.com",
        projectId: "skillzoy-5ba3c",
        storageBucket: "skillzoy-5ba3c.firebasestorage.app",
        messagingSenderId: "622606995088",
        appId: "1:622606995088:web:999c8a6790e7aa30651215",
        measurementId: "G-WVHTQ4BGNJ"
    };

    // --- âœ… INITIALIZE FIREBASE ---
    if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
    }
    const db = firebase.firestore();
    const auth = firebase.auth();

    // --- âœ… STATE MANAGEMENT ---
    let appState = {
        courses: [],
        myCourses: JSON.parse(localStorage.getItem("myCourses")) || [],
        progress: JSON.parse(localStorage.getItem("courseProgress")) || {},
        darkMode: localStorage.getItem("darkMode") === "true",
        currentCourseId: null
    };

    // --- âœ… GLOBAL TOAST FUNCTION ---
    function showToast(message, type = 'info') {
        const toast = document.createElement('div');
        const colorClass = type === 'success' ? 'bg-green-500' : (type === 'error' ? 'bg-red-500' : 'bg-gray-800');
        toast.className = `fixed top-6 left-1/2 transform -translate-x-1/2 ${colorClass} text-white px-6 py-3 rounded-full shadow-2xl z-[70] flex items-center gap-3 animate-float font-bold text-sm min-w-[300px] justify-center`;
        toast.innerHTML = `
            <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-info-circle'}"></i>
            <span>${message}</span>
        `;
        document.body.appendChild(toast);
        setTimeout(() => {
            toast.style.opacity = '0';
            setTimeout(() => toast.remove(), 300);
        }, 3000);
    }

    // --- âœ… THEME ---
    function setupTheme() {
        if (appState.darkMode) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    }
    function toggleDarkMode() {
        appState.darkMode = !appState.darkMode;
        localStorage.setItem("darkMode", appState.darkMode);
        document.documentElement.classList.toggle('dark');
    }

    // --- âœ… SKELETONS ---
    function renderSkeletons() {
        const grid = document.getElementById('coursesGrid');
        grid.innerHTML = Array(6).fill(0).map(() => `
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700">
                <div class="skeleton w-full h-40 rounded-xl mb-4"></div>
                <div class="skeleton w-3/4 h-6 rounded-lg mb-2"></div>
                <div class="skeleton w-1/2 h-4 rounded-lg mb-4"></div>
                <div class="flex justify-between">
                    <div class="skeleton w-20 h-8 rounded-lg"></div>
                    <div class="skeleton w-20 h-8 rounded-lg"></div>
                </div>
            </div>
        `).join('');
    }

    // --- âœ… ANONYMOUS AUTH + FETCH COURSES (ASYNC/AWAIT) ---
    async function initializeApp() {
        try {
            // ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ø³ØªØ®Ø¯Ù… Ø­Ø§Ù„ÙŠ Ù„ØªØ¬Ù†Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ØªÙƒØ±Ø±
            if (!auth.currentUser) {
                await auth.signInAnonymously();
                console.log("âœ… Anonymous login successful");
            } else {
                console.log("âœ… Already signed in");
            }
            // Ø¨Ø¹Ø¯ Ù†Ø¬Ø§Ø­ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©ØŒ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙˆØ±Ø§Ù‹
            await fetchCourses();
        } catch (error) {
            console.error("âŒ Initialization error:", error);
            // Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø¶Ø­Ø© Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„: ÙŠØ¬Ø¨ ØªÙØ¹ÙŠÙ„ Anonymous Sign-In ÙÙŠ Firebase Console
            showToast("âš ï¸Ø³ÙŠØªÙ… ØªÙ‡ÙƒÙŠØ± Ø¬Ù‡Ø§Ø²Ùƒ  Ø§Ù„Ø£Ù† HackedğŸ¤¡âš ï¸", "error");
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¹Ø¸Ù…ÙŠ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£
            document.getElementById('coursesGrid').innerHTML = `
                <div class="col-span-3 text-center py-16">
                    <div class="w-24 h-24 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-exclamation-triangle text-4xl text-red-500"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-2">ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±Ø§Øª</h3>
                    <p class="text-gray-600 dark:text-gray-400">ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª âš ï¸.</p>
                </div>
            `;
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
            document.getElementById('categoriesContainer').innerHTML = '';
        }
    }

    // --- âœ… FETCH COURSES FROM FIRESTORE ---
    async function fetchCourses() {
        try {
            const snapshot = await db.collection('courses').get();
            appState.courses = [];
            snapshot.forEach(doc => {
                appState.courses.push({ id: doc.id, ...doc.data() });
            });

            // Ø¨Ø¹Ø¯ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ù‚Ù… Ø¨Ø§Ù„ØªØ­Ø¯ÙŠØ«
            renderCategories();   // Ø¹Ø±Ø¶ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
            renderCourses();      // Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙˆØ±Ø§Øª
            renderMyCourses();    // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø¯ÙˆØ±Ø§ØªÙŠ
            console.log(`ğŸ“š Loaded ${appState.courses.length} courses`);
        } catch (error) {
            console.error("âŒ Error fetching courses:", error);
            showToast("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±Ø§Øª", "error");
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¹Ø¸Ù…ÙŠ ÙˆØ¥Ø¸Ù‡Ø§Ø± noResults
            document.getElementById('coursesGrid').innerHTML = '';
            document.getElementById('noResults').classList.remove('hidden');
            document.getElementById('noResults').classList.add('flex');
        }
    }

    // --- âœ… RENDER CATEGORIES ---
    function renderCategories() {
        const container = document.getElementById('categoriesContainer');
        const filterSelect = document.getElementById('categoryFilter');

        // Ù…Ø³Ø­ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¹Ø¸Ù…ÙŠ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø¨ÙŠØ§Ù†Ø§Øª
        if (!appState.courses || appState.courses.length === 0) {
            container.innerHTML = '<div class="text-gray-500 dark:text-gray-400 py-4">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØµÙ†ÙŠÙØ§Øª Ù…ØªØ§Ø­Ø©</div>';
            filterSelect.innerHTML = '<option value="">ÙƒÙ„ Ø§Ù„ØªØ®ØµØµØ§Øª</option>';
            return;
        }

        const categories = [...new Set(appState.courses.map(c => c.category || 'Ø¹Ø§Ù…'))];
        
        // Ø¥Ø¶Ø§ÙØ© Ø²Ø± "Ø§Ù„ÙƒÙ„" ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        container.innerHTML = `
            <div onclick="filterByCategory('all')" class="min-w-[110px] h-28 cursor-pointer rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 text-white flex flex-col items-center justify-center gap-2 shadow-lg shadow-indigo-500/30 trans-all hover:scale-105">
                <i class="fas fa-th-large text-xl"></i>
                <span class="text-sm font-bold">Ø§Ù„ÙƒÙ„</span>
            </div>
        `;

        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
        categories.forEach(cat => {
            container.innerHTML += `
                <div onclick="filterByCategory('${cat}')" class="min-w-[110px] h-28 cursor-pointer rounded-2xl bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center gap-2 hover:border-indigo-500 hover:shadow-lg trans-all group">
                    <div class="w-10 h-10 rounded-full bg-indigo-50 dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 flex items-center justify-center text-lg group-hover:scale-110 trans-all">
                        ${getCategoryIcon(cat)}
                    </div>
                    <span class="text-sm font-bold text-gray-700 dark:text-gray-300">${cat}</span>
                </div>
            `;
        });

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª ÙÙŠ Ø§Ù„ÙÙ„ØªØ±
        filterSelect.innerHTML = '<option value="">ÙƒÙ„ Ø§Ù„ØªØ®ØµØµØ§Øª</option>';
        categories.forEach(cat => {
            const option = document.createElement('option');
            option.value = cat;
            option.innerText = cat;
            filterSelect.appendChild(option);
        });
    }

    function getCategoryIcon(cat) {
        const map = {
            'Ø¨Ø±Ù…Ø¬Ø©': '<i class="fas fa-code"></i>',
            'ØªØµÙ…ÙŠÙ…': '<i class="fas fa-paint-brush"></i>',
            'ØªØ³ÙˆÙŠÙ‚': '<i class="fas fa-bullhorn"></i>',
            'Ù„ØºØ§Øª': '<i class="fas fa-language"></i>',
            'Ø·Ø¨ ÙˆØµØ­Ø©': '<i class="fas fa-heartbeat"></i>',
            'Ø£Ø¹Ù…Ø§Ù„': '<i class="fas fa-briefcase"></i>',
            'ØªØ·ÙˆÙŠØ± Ø§Ù„Ø°Ø§Øª': '<i class="fas fa-lightbulb"></i>',
            'Ù…Ù‡Ø§Ø±Ø§Øª ØªÙ‚Ù†ÙŠØ©': '<i class="fas fa-laptop-code"></i>',
            'Ø¥Ø¯Ø§Ø±Ø©': '<i class="fas fa-chart-line"></i>',
            'Ù…Ø­Ø§Ø³Ø¨Ø©': '<i class="fas fa-calculator"></i>',
            'ØªØµÙˆÙŠØ±': '<i class="fas fa-camera"></i>',
            'Ø·Ø¨Ø®': '<i class="fas fa-utensils"></i>',
            'Ù„ÙŠØ§Ù‚Ø© Ø¨Ø¯Ù†ÙŠØ©': '<i class="fas fa-dumbbell"></i>',
            'ÙÙ†ÙˆÙ†': '<i class="fas fa-palette"></i>',
            'Ù…ÙˆØ³ÙŠÙ‚Ù‰': '<i class="fas fa-music"></i>',
            'Ù‚ÙŠØ§Ø¯Ø©': '<i class="fas fa-car"></i>',
            'ØªØ¹Ù„ÙŠÙ…': '<i class="fas fa-chalkboard-teacher"></i>',
            'Ø§Ø³ØªØ´Ø§Ø±Ø§Øª': '<i class="fas fa-handshake"></i>',
            'Ø³ÙØ±': '<i class="fas fa-plane"></i>',
            'Ø¹Ù‚Ø§Ø±Ø§Øª': '<i class="fas fa-home"></i>',
            'ØªØ¯Ø§ÙˆÙ„': '<i class="fas fa-chart-bar"></i>',
            'Ø²Ø±Ø§Ø¹Ø©': '<i class="fas fa-leaf"></i>'
        };
        return map[cat] || '<i class="fas fa-book"></i>';
    }

    // --- âœ… RENDER COURSES (with optional filter) ---
    function renderCourses(filter = null) {
        const grid = document.getElementById('coursesGrid');
        let data = appState.courses;

        if (!data || data.length === 0) {
            grid.innerHTML = '';
            document.getElementById('noResults').classList.remove('hidden');
            document.getElementById('noResults').classList.add('flex');
            return;
        }

        if (filter && filter !== 'all') {
            data = data.filter(c => 
                (c.category || 'Ø¹Ø§Ù…') === filter || 
                (c.title && c.title.includes(filter))
            );
        }

        if (data.length === 0) {
            grid.innerHTML = '';
            document.getElementById('noResults').classList.remove('hidden');
            document.getElementById('noResults').classList.add('flex');
            return;
        }

        document.getElementById('noResults').classList.add('hidden');
        document.getElementById('noResults').classList.remove('flex');

        grid.innerHTML = data.map(course => {
            const isEnrolled = appState.myCourses.includes(course.id);
            const priceDisplay = (course.price === 'free' || course.price === 'Ù…Ø¬Ø§Ù†ÙŠØ©') 
                ? '<span class="text-green-500 font-bold">Ù…Ø¬Ø§Ù†ÙŠØ©</span>' 
                : `<span class="text-indigo-600 dark:text-indigo-400 font-bold font-mono">${course.price}</span>`;

            let videoEmbed = '';
            if (course.playlist_id) {
                videoEmbed = `<iframe class="absolute inset-0 w-full h-full" 
                                      src="https://www.youtube.com/embed/videoseries?list=${course.playlist_id}" 
                                      frameborder="0" 
                                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                      allowfullscreen
                                      loading="lazy">
                              </iframe>`;
            } else {
                videoEmbed = `<div class="absolute inset-0 w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-500"><i class="fas fa-video-slash"></i> Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙÙŠØ¯ÙŠÙˆ</div>`;
            }

            return `
            <div class="glass-card rounded-2xl overflow-hidden hover:transform hover:-translate-y-2 trans-all group h-full flex flex-col">
                <div class="relative w-full aspect-video bg-black rounded-t-2xl overflow-hidden">
                    ${videoEmbed}
                    <div class="absolute top-2 left-2 z-20 bg-black/60 backdrop-blur-md text-white text-xs px-2 py-1 rounded-lg border border-white/20">
                        ${course.category || 'Ø¹Ø§Ù…'}
                    </div>
                </div>
                <div class="p-5 flex flex-col flex-1">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-2 line-clamp-2">${course.title}</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-4 line-clamp-2 flex-1">${course.description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ'}</p>
                    <div class="flex items-center justify-between mt-auto pt-4 border-t border-gray-100 dark:border-gray-700">
                        ${priceDisplay}
                        <button onclick="${isEnrolled ? `openPlayer('${course.id}')` : `enrollCourse('${course.id}')`}" 
                            class="${isEnrolled ? 'bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400' : 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30'} 
                            px-4 py-2 rounded-xl text-sm font-bold hover:brightness-110 trans-all">
                            ${isEnrolled ? 'Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ø¯ÙˆØ±Ø© <i class="fas fa-play text-xs mr-1"></i>' : 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¢Ù†'}
                        </button>
                    </div>
                </div>
            </div>
            `;
        }).join('');
    }

    // --- âœ… ACTIONS ---
    function enrollCourse(id) {
        if (!appState.myCourses.includes(id)) {
            appState.myCourses.push(id);
            localStorage.setItem("myCourses", JSON.stringify(appState.myCourses));
            
            if (!appState.progress[id]) {
                appState.progress[id] = { completed: [], total: 10 }; // Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« total Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¥Ø°Ø§ ÙˆØ¬Ø¯
                localStorage.setItem("courseProgress", JSON.stringify(appState.progress));
            }
            
            showToast("ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰", "success");
            renderCourses();
            renderMyCourses();
            updateNavState();
        }
    }

    function removeCourse(id, event) {
        event.stopPropagation();
        if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø¯ÙˆØ±Ø©ØŸ")) {
            appState.myCourses = appState.myCourses.filter(cid => cid !== id);
            localStorage.setItem("myCourses", JSON.stringify(appState.myCourses));
            renderMyCourses();
            renderCourses();
            updateNavState();
        }
    }

    // --- âœ… PLAYER LOGIC ---
    function openPlayer(id) {
        const course = appState.courses.find(c => c.id === id);
        if (!course) return;

        appState.currentCourseId = id;
        document.getElementById('playerCourseTitle').innerText = course.title;
        document.getElementById('playerCourseDesc').innerText = course.description || '';
        
        const frame = document.getElementById('playerFrame');
        if (course.playlist_id) {
            frame.src = `https://www.youtube.com/embed/videoseries?list=${course.playlist_id}`;
        } else {
            frame.src = "";
        }

        // Ø§Ø³ØªØ®Ø¯Ù… Ø¹Ø¯Ø¯ Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø£Ùˆ Ø§ÙØªØ±Ø§Ø¶ÙŠ 10
        const totalVideos = course.num || 10;
        renderPlaylistItems(id, totalVideos);
        document.getElementById('playerOverlay').classList.remove('translate-y-full');
        
        localStorage.setItem("lastViewedCourse", JSON.stringify({ id: course.id, title: course.title }));
    }

    function closePlayer() {
        document.getElementById('playerOverlay').classList.add('translate-y-full');
        document.getElementById('playerFrame').src = "";
        renderMyCourses();
    }

    function renderPlaylistItems(courseId, totalVideos) {
        const container = document.getElementById('playlistContainer');
        const progressData = appState.progress[courseId] || { completed: [] };
        let html = '';

        for (let i = 1; i <= totalVideos; i++) {
            const isCompleted = progressData.completed.includes(i);
            html += `
                <div class="flex items-center justify-between p-3 rounded-xl ${isCompleted ? 'bg-green-50 dark:bg-green-900/20' : 'bg-white dark:bg-gray-800'} border border-gray-100 dark:border-gray-700">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${isCompleted ? 'bg-green-500 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300'}">
                            ${isCompleted ? '<i class="fas fa-check"></i>' : i}
                        </div>
                        <span class="text-sm font-medium text-gray-700 dark:text-gray-200">Ø§Ù„Ø¯Ø±Ø³ Ø±Ù‚Ù… ${i}</span>
                    </div>
                    <button onclick="toggleLessonComplete(${i})" class="text-gray-400 hover:text-green-500 trans-all">
                        <i class="far fa-circle ${isCompleted ? 'fas fa-check-circle text-green-500' : ''}"></i>
                    </button>
                </div>
            `;
        }
        container.innerHTML = html;
        updateProgressUI(courseId, totalVideos);
    }

    function toggleLessonComplete(lessonIndex) {
        const id = appState.currentCourseId;
        if (!id) return;
        if (!appState.progress[id]) appState.progress[id] = { completed: [] };
        
        const list = appState.progress[id].completed;
        if (list.includes(lessonIndex)) {
            appState.progress[id].completed = list.filter(i => i !== lessonIndex);
        } else {
            appState.progress[id].completed.push(lessonIndex);
        }
        
        localStorage.setItem("courseProgress", JSON.stringify(appState.progress));
        const course = appState.courses.find(c => c.id === id);
        const total = course?.num || 10;
        renderPlaylistItems(id, total);
        updateProgressUI(id, total);
    }

    function toggleCompleteVideo() {
        const id = appState.currentCourseId;
        if (!id) return;
        
        const course = appState.courses.find(c => c.id === id);
        const total = course?.num || 10;
        
        if (!appState.progress[id]) appState.progress[id] = { completed: [] };
        const completedList = appState.progress[id].completed;
        
        let targetLesson = 1;
        while (completedList.includes(targetLesson) && targetLesson <= total) {
            targetLesson++;
        }
        
        if (targetLesson <= total) {
            toggleLessonComplete(targetLesson);
            showToast(`âœ… ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¯Ø±Ø³ ${targetLesson}`, 'success');
        } else {
            showToast('ğŸ‰ Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯Ø±ÙˆØ³ Ø¨Ø§Ù„ÙØ¹Ù„!', 'info');
        }
    }

    function updateProgressUI(id, total) {
        const completed = appState.progress[id]?.completed.length || 0;
        const percent = total > 0 ? Math.round((completed / total) * 100) : 0;
        document.getElementById('progressBarFill').style.width = `${percent}%`;
        document.getElementById('progressPercentage').innerText = `${percent}% Ù…ÙƒØªÙ…Ù„`;
    }

    // --- âœ… MY COURSES PAGE ---
    function renderMyCourses() {
        const grid = document.getElementById('myCoursesGrid');
        
        const lastViewed = JSON.parse(localStorage.getItem("lastViewedCourse"));
        const banner = document.getElementById('resumeLearningBanner');
        
        if (lastViewed && appState.myCourses.includes(lastViewed.id)) {
            banner.classList.remove('hidden');
            document.getElementById('resumeTitle').innerText = lastViewed.title;
            document.getElementById('resumeBtn').onclick = () => openPlayer(lastViewed.id);
        } else {
            banner.classList.add('hidden');
        }

        if (appState.myCourses.length === 0) {
            grid.innerHTML = `<div class="col-span-3 text-center text-gray-500 py-10">Ù„Ù… ØªÙ‚Ù… Ø¨Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø£ÙŠ Ø¯ÙˆØ±Ø© Ø¨Ø¹Ø¯.</div>`;
            return;
        }

        grid.innerHTML = appState.myCourses.map(id => {
            const course = appState.courses.find(c => c.id === id);
            if (!course) return '';
            
            const total = course.num || 10;
            const completed = appState.progress[id]?.completed.length || 0;
            const percent = Math.round((completed / total) * 100);

            return `
                <div class="glass-card rounded-2xl p-4 flex gap-4 items-center cursor-pointer hover:bg-white/50 dark:hover:bg-gray-700/50 trans-all" onclick="openPlayer('${id}')">
                    <div class="w-20 h-20 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-2xl shrink-0">
                        <i class="fas fa-play"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h4 class="font-bold text-gray-800 dark:text-white truncate">${course.title}</h4>
                        <div class="flex justify-between items-center text-xs text-gray-500 dark:text-gray-400 mt-1 mb-2">
                            <span>${completed}/${total} Ø¯Ø±Ø³</span>
                            <span>${percent}%</span>
                        </div>
                        <div class="h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                            <div class="h-full bg-green-500 rounded-full" style="width: ${percent}%"></div>
                        </div>
                    </div>
                    <button onclick="removeCourse('${id}', event)" class="text-gray-300 hover:text-red-500 px-2 trans-all">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
            `;
        }).join('');
    }

    // --- âœ… NAVIGATION ---
    function showHome() {
        document.getElementById('heroSection').classList.remove('hidden');
        document.getElementById('coursesSection').classList.remove('hidden');
        document.getElementById('myCoursesView').classList.add('hidden');
        setActiveNav(0);
        window.scrollTo(0, 0);
    }

    function showMyCourses() {
        document.getElementById('heroSection').classList.add('hidden');
        document.getElementById('coursesSection').classList.add('hidden');
        document.getElementById('myCoursesView').classList.remove('hidden');
        renderMyCourses();
        setActiveNav(1);
        window.scrollTo(0, 0);
    }

    function setActiveNav(index) {
        const btns = document.querySelectorAll('.nav-btn');
        btns.forEach((b, i) => {
            if (i === index) {
                b.classList.add('text-indigo-600', 'dark:text-indigo-400', 'active');
                b.classList.remove('text-gray-400');
            } else {
                b.classList.remove('text-indigo-600', 'dark:text-indigo-400', 'active');
                b.classList.add('text-gray-400');
            }
        });
    }

    function openWhatsApp() {
        window.open("https://wa.me/249908280115", "_blank");
    }

    function updateNavState() {
        if (appState.myCourses.length > 0) {
            document.getElementById('myCoursesDot').classList.remove('hidden');
        } else {
            document.getElementById('myCoursesDot').classList.add('hidden');
        }
    }

    // --- âœ… FILTERS ---
    function filterByCategory(cat) {
        renderCourses(cat);
    }

    function setupEventListeners() {
        document.getElementById('searchInput').addEventListener('input', (e) => {
            renderCourses(e.target.value);
        });
        document.getElementById('categoryFilter').addEventListener('change', (e) => {
            renderCourses(e.target.value);
        });
    }

    // --- âœ… INITIALIZE EVERYTHING ---
    document.addEventListener('DOMContentLoaded', () => {
        setupTheme();
        renderSkeletons();      // Ø¹Ø±Ø¶ Ø§Ù„Ù‡ÙŠØ§ÙƒÙ„ Ø§Ù„Ø¹Ø¸Ù…ÙŠØ© ÙÙˆØ±Ø§Ù‹
        initializeApp();        // Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        setupEventListeners();
        updateNavState();
    });

    // ===== antidebug (Ø¨Ù‚ÙŠØª ÙƒÙ…Ø§ Ù‡ÙŠ) =====
    (() => {
        document.addEventListener("keydown", (e) => {
            if (
                (e.ctrlKey && e.shiftKey && ["I", "C", "J", "L"].includes(e.key.toUpperCase())) ||
                (e.key === "F12") ||
                (e.ctrlKey && e.key.toUpperCase() === "U")
            ) {
                e.preventDefault();
            }
        });
        document.addEventListener("copy", e => e.preventDefault());
        document.addEventListener("cut", e => e.preventDefault());
        document.addEventListener("contextmenu", e => e.preventDefault());
        document.addEventListener("selectstart", e => e.preventDefault());
        let detectSize = () => {
            if (window.outerWidth - window.innerWidth > 200 || window.outerHeight - window.innerHeight > 200) {
                console.clear();
            }
        };
        window.addEventListener("resize", detectSize);
        let start = performance.now();
        console.log("%c ", "font-size:200px;");
        let end = performance.now();
        if (end - start > 50) console.clear();
        const observer = new MutationObserver(() => { console.clear(); });
        observer.observe(document.documentElement, { attributes: true, childList: false, subtree: false });
        setInterval(() => {
            const t = Date.now();
            debugger;
            if (Date.now() - t > 100) console.clear();
        }, 500);
    })();
</script>
</body>
</html>
